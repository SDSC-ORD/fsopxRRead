<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Download px file and parse the downloaded file.">
<title>Read and Parse px files • pxRRead</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Read and Parse px files">
<meta property="og:description" content="Download px file and parse the downloaded file.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">pxRRead</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="pxrread">pxRRead<a class="anchor" aria-label="anchor" href="#pxrread"></a>
</h1></div>
<!-- badges: start -->

<div class="section level2">
<h2 id="about">About<a class="anchor" aria-label="anchor" href="#about"></a>
</h2>
<p>The px file format is a format for offering statistical tables in an interactive way. It was introduced by the Statistics office of Sweden and is also used by statistical offices in other countries.</p>
<p>See here for a specification of this format: <a href="https://www.scb.se/en/services/statistical-programs-for-px-files/px-file-format/" class="external-link">px file format specification</a></p>
<p>The goal of pxRRead is parse px cube files: - from a download url for a px cube file - from a px cube file that has been downloaded previously</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of pxRRead from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"SDSC-ORD/pxRRead"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">pxRRead</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/scan_px_file.html">scan_px_file</a></span><span class="op">(</span><span class="st">'px-x-0102020203_110.px'</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/scan_px_file.html">scan_px_file</a></span><span class="op">(</span><span class="st">'https://www.pxweb.bfs.admin.ch/DownloadFile.aspx?file=px-x-0602000000_107'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="output">Output<a class="anchor" aria-label="anchor" href="#output"></a>
</h2>
<p>The goal of this package is to prepare the data and metadata for data science applications. This package is especially meant to also support large multilingual px files and allow to localize them to a supported language.</p>
<p>The output consist of a list of data and metadata: - <code>output$metadata</code> includes all metadata in the default language - <code>output$dataframe</code> is a tibble with the length of the <code>DATA</code> of the px cube - The dimensions in “STUB” and “HEADING” of the px cube are all turned into columns of the tibble</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/scan_px_file.html">scan_px_file</a></span><span class="op">(</span><span class="st">'https://www.pxweb.bfs.admin.ch/DownloadFile.aspx?file=px-x-0602000000_107'</span><span class="op">)</span></span>
<span><span class="va">output</span><span class="op">$</span><span class="va">metadata</span></span>
<span><span class="va">output</span><span class="op">$</span><span class="va">dataframe</span></span></code></pre></div>
<div class="section level3">
<h3 id="option-to-localize-the-output-for-multilingual-px-cubes">Option to localize the output for multilingual px cubes<a class="anchor" aria-label="anchor" href="#option-to-localize-the-output-for-multilingual-px-cubes"></a>
</h3>
<p>If the px cube is multilingual: a locale can be specified with <code>locale=&lt;language code&gt;</code> to localize the output: then the metadata and dataframe will use the translations for the given locale.</p>
<p>The language code must match the language code used in the px cube and specified with the <code>LANGUAGES</code> keyword.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/scan_px_file.html">scan_px_file</a></span><span class="op">(</span></span>
<span>  <span class="st">'https://www.pxweb.bfs.admin.ch/DownloadFile.aspx?file=px-x-0602000000_107'</span>,</span>
<span>  locale<span class="op">=</span><span class="st">"en"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">output</span><span class="op">$</span><span class="va">metadata</span></span>
<span><span class="va">output</span><span class="op">$</span><span class="va">dataframe</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h3>
<p>In <code>scripts</code> directory there are examples to run. Most example are from the Swiss Federal Office of Statistics: <code>/scripts/bfs_px_files.R</code> but there is also a script <code>/scripts/other_px_files.R</code> for other px files. These scripts include complete examples. They are meant for further exploration of the output of this package.</p>
</div>
<div class="section level3">
<h3 id="warnings-and-restrictions">Warnings and Restrictions<a class="anchor" aria-label="anchor" href="#warnings-and-restrictions"></a>
</h3>
<div class="section level4">
<h4 id="encoding">Encoding<a class="anchor" aria-label="anchor" href="#encoding"></a>
</h4>
<p>Even though there is a <code>CODE_PAGE</code> specified in the px file the specified encoding does not always work to parse the file correctly with <code>scan</code> and <code>fileEncoding</code>. Therefor the encoding has been added as a parameter: <code>encoding</code>. The default is <code>latin1</code>. So if the file encoding seems incorrect it can be changed to <code>UTF-8</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/scan_px_file.html">scan_px_file</a></span><span class="op">(</span></span>
<span>  <span class="st">'https://www.pxweb.bfs.admin.ch/DownloadFile.aspx?file=px-x-1002020000_101'</span>,</span>
<span>  locale <span class="op">=</span> <span class="st">"de"</span>,</span>
<span>  encoding <span class="op">=</span> <span class="st">"UTF-8"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing pxRRead</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Sabine Maennel <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/SDSC-ORD/pxRRead/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/SDSC-ORD/pxRRead/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Sabine Maennel.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
